<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Souhasi ‚ù§Ô∏è</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
}

body{
    font-family:'Segoe UI', cursive;
    height:100vh;
    overflow:hidden;
    color:white;
}

/* üíï COLLAGE BACKGROUND */
.collage{
    position:fixed;
    inset:0;
    display:grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(4, 1fr);
    gap:6px;
    z-index:0;
    transition:opacity 0.8s ease-in-out;
}

.collage img{
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:12px;
}

/* Mobile grid */
@media(max-width:768px){
    .collage{
        grid-template-columns: repeat(2, 1fr);
        grid-template-rows: repeat(5, 1fr);
    }
}

.overlay{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.5);
    z-index:1;
}

/* üíñ Content */
.container{
    position:relative;
    z-index:2;
    height:100vh;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    padding:20px;
}

h1{
    font-size:2rem;
    margin-bottom:20px;
}

button{
    padding:14px 28px;
    font-size:18px;
    border:none;
    border-radius:30px;
    margin:10px;
    cursor:pointer;
    transition:0.3s;
}

#yesBtn{
    background:#ff2e63;
    color:white;
    box-shadow:0 0 20px rgba(255,0,100,0.8);
}

#yesBtn:hover{
    transform:scale(1.15);
}

#noBtn{
    background:white;
    color:#ff2e63;
    position:absolute;
}

#finalMessage{
    display:none;
    font-size:1.8rem;
    animation:fadeIn 2s ease;
}

@keyframes fadeIn{
    from{opacity:0;}
    to{opacity:1;}
}

/* üéÜ Fireworks */
canvas{
    position:fixed;
    inset:0;
    pointer-events:none;
    z-index:3;
}
</style>
</head>

<body>

<div class="collage" id="collage"></div>
<div class="overlay"></div>
<canvas id="fireworks"></canvas>

<div class="container">
    <h1 id="question">
        Souhasi üíñ<br>
        Will you be my Valentine?
    </h1>

    <div id="buttons">
        <button id="yesBtn">Yes ü•∞</button>
        <button id="noBtn">No üò¢</button>
    </div>

    <div id="finalMessage">
        You made my world brighter, my heart fuller üíñ<br>
        I choose you. Always. Forever. üíç<br>
        From your Boobie Doobie Doo ü•∞
    </div>
</div>

<script>

/* üíï IMAGE LIST */
const images = [
    "img/photo1.jpg",
    "img/photo2.jpg",
    "img/photo3.jpg",
    "img/photo4.jpg",
    "img/photo5.jpg",
    "img/photo6.jpg",
    "img/photo7.jpg",
    "img/photo8.jpg",
    "img/photo9.jpg",
    "img/photo10.jpg"
];

/* Preload images */
images.forEach(src => {
    const img = new Image();
    img.src = src;
});

const collage = document.getElementById("collage");

/* Shuffle function */
function shuffle(array){
    return array.sort(() => Math.random() - 0.5);
}

/* Generate collage */
function generateCollage(){
    collage.style.opacity = 0;

    setTimeout(()=>{
        collage.innerHTML = "";
        const shuffled = shuffle([...images]);

        shuffled.forEach(src=>{
            const img = document.createElement("img");
            img.src = src;
            img.loading = "lazy";
            collage.appendChild(img);
        });

        collage.style.opacity = 1;
    },400);
}

generateCollage();
setInterval(generateCollage, 4000); // safer for mobile


/* üòÇ NO BUTTON */
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const finalMessage = document.getElementById("finalMessage");
const question = document.getElementById("question");

const noTexts = [
    "Are you sure? üò≠",
    "Really sure? ü•∫",
    "Think again üíî",
    "Pleaseee ü•π",
    "Souhasi plssss ‚ù§Ô∏è",
    "This hurts üò¢",
    "Don't do this üò≠",
    "Last chance üò≥",
    "You're breaking my heart üíò",
    "Okay bye then üí®"
];

let clickCount = 0;

noBtn.addEventListener("click", () => {
    clickCount++;

    if(clickCount < noTexts.length){
        noBtn.innerText = noTexts[clickCount];
        noBtn.style.left = Math.random() * (window.innerWidth - 120) + "px";
        noBtn.style.top = Math.random() * (window.innerHeight - 60) + "px";
    } else {
        noBtn.style.transition = "all 1s ease";
        noBtn.style.transform = "translateX(150vw)";
        setTimeout(() => noBtn.style.display = "none", 1000);
    }
});

/* üíç YES BUTTON */
yesBtn.addEventListener("click", () => {
    document.getElementById("buttons").style.display = "none";
    question.style.display = "none";
    finalMessage.style.display = "block";
    startFireworks();
});

/* üéÜ FIREWORKS */
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");

function resizeCanvas(){
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

let particles = [];

function createFirework(x,y){
    for(let i=0;i<100;i++){
        particles.push({
            x:x,
            y:y,
            speedX:(Math.random()-0.5)*8,
            speedY:(Math.random()-0.5)*8,
            life:80
        });
    }
}

function startFireworks(){
    setInterval(()=>{
        createFirework(
            Math.random()*canvas.width,
            Math.random()*canvas.height/2
        );
    },600);
    animate();
}

function animate(){
    ctx.fillStyle="rgba(0,0,0,0.2)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    particles.forEach((p,index)=>{
        ctx.fillStyle="hsl("+Math.random()*360+",100%,50%)";
        ctx.beginPath();
        ctx.arc(p.x,p.y,3,0,Math.PI*2);
        ctx.fill();

        p.x+=p.speedX;
        p.y+=p.speedY;
        p.life--;

        if(p.life<=0){
            particles.splice(index,1);
        }
    });

    requestAnimationFrame(animate);
}

</script>

</body>
</html>
